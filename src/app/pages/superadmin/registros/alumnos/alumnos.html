<div class="registro-container">

  <!-- LADO IZQUIERDO: IMAGEN + TEXTO -->
  <div class="left-panel">
    <h1>Registra al Alumno</h1>
    <p>Captura sus datos y s√∫bele una fotograf√≠a para su expediente</p>

    <!-- FOTO + PREVIEW -->
    <div class="image-upload">
      <img  [src]="preview" class="preview-img">

      <label for="foto" class="btn-upload">Subir Foto</label>
      <input id="foto" type="file" accept="image/*" (change)="onFileSelected($event)" hidden>
    </div>
  </div>

  <!-- LADO DERECHO: FORMULARIO -->
  <div class="right-panel">

    <form (ngSubmit)="guardar()">

      <div class="form-row">
        <div>
          <label>Nombre (s)</label>
          <input type="text" [(ngModel)]="alumno.nombre" name="nombre" placeholder="Nombre" required>
        </div>

        <div>
          <label>Apellido Paterno</label>
          <input type="text" [(ngModel)]="alumno.ap_paterno" name="ap_paterno" placeholder="Apellido paterno" required>
        </div>
      </div>

      <div class="form-row">
        <div>
          <label>Apellido Materno</label>
          <input type="text" [(ngModel)]="alumno.ap_materno" name="ap_materno" placeholder="Apellido materno" required>
        </div>

        <div>
          <label>Correo Institucional</label>
          <input type="email" [(ngModel)]="alumno.email" name="email" placeholder="ejemplo@utj.edu.mx" required>
        </div>
      </div>

      <div class="form-row">
        <div>
          <label>Contrase√±a</label>
          <input type="password" [(ngModel)]="alumno.password" name="password" placeholder="********" required>
        </div>

        <div>
          <label>CURP</label>
          <input type="text" [(ngModel)]="alumno.curp" name="curp" placeholder="CURP">
        </div>
      </div>

      <div class="form-row">
        <div>
          <label>Carrera</label>
          <input type="text" [(ngModel)]="alumno.carrera" name="carrera" placeholder="Carrera">
        </div>

        <div>
          <label>Sede</label>
          <input type="text" [(ngModel)]="alumno.sede" name="sede" placeholder="Sede">
        </div>
      </div>

      <div class="form-row">
        <div>
          <label>Tel√©fono</label>
          <input type="tel" [(ngModel)]="alumno.telefono" name="telefono" placeholder="Tel√©fono">
        </div>

        <div>
          <label>Tipo de Sangre</label>
          <input type="text" [(ngModel)]="alumno.sangre" name="sangre" placeholder="Ej. O+, A-">
        </div>
      </div>

      <div class="form-row">
        <div>
          <label>N√∫mero de Seguro Social</label>
          <input type="text" [(ngModel)]="alumno.segurosocial" name="segurosocial" placeholder="NSS">
        </div>

        <div>
          <label>Alergias</label>
          <input type="text" [(ngModel)]="alumno.alergia" name="alergia" placeholder="Separadas por comas">
        </div>
      </div>

      <div class="form-row">
        <div>
          <label>Asigna el Tutor</label>

          <!-- üëáüëá AQUI EST√Å TU DROPDOWN DE TUTORES  üëáüëá -->
          <!-- Se agreg√≥ name="id_tutor" porque SIN ESO Angular NO bindea -->
          <!-- Se recorre 'tutores' con *ngFor para llenar el cat√°logo -->
          <select [(ngModel)]="alumno.id_tutor" name="id_tutor">
            <option value="">Seleccionar tutor</option>

            <!-- Cada tutor viene del back: { _id, nombre } -->
            <option *ngFor="let t of tutores" [value]="t._id">
              {{ t.nombre }}
            </option>
          </select>
          <!-- ‚òùÔ∏è ESTA ES LA PARTE CLAVE üéØ -->
        </div>

        <div>
          <label>ID Tarjeta</label>
          <input type="text" [(ngModel)]="alumno.nfc_uid" name="nfc_uid" placeholder="Id tarjeta">
        </div>
      </div>

      <input type="hidden" [(ngModel)]="alumno.rol" name="rol" value="alumno">

      <button class="btn-submit">Guardar Alumno</button>

    </form>

  </div>
</div>
